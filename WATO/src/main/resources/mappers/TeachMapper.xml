<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

  <mapper namespace="com.king.myapp.mappers.TeachMapper">
	
	<!-- 회원 가입 -->
	<insert id="teach_join">
		insert into 
		approval (app_Profile, app_Resume, app_Id, 
				 app_Pwd, app_Pwd_Qs, app_Pwd_As, app_Gender, 
				 Teach_Phone1, Teach_Phone2, Teach_Phone3, 
				 app_Email1, app_Email2, 
				 app_Addr1, app_Addr2, app_Addr3)
		values (#{app_Profile}, #{app_Resume}, #{app_Id}, 
				#{app_Pwd}, #{app_Pwd_Qs}, #{app_Pwd_As}, #{app_Gender}, 
				#{app_Phone1}, #{app_Phone2}, #{app_Phone3}, 
				#{app_Email1}, #{app_Email2}, 
				#{app_Addr1}, #{app_Addr2}, #{app_Addr3})
		<!-- teach_info(Teach_Profile, Teach_Resume, Teach_Id, 
				 Teach_Pwd, Teach_Pwd_Qs, Teach_Pwd_As, Teach_Gender, 
				 Teach_Phone1, Teach_Phone2, Teach_Phone3, 
				 Teach_Email1, Teach_Email2, 
				 Teach_Addr1, Teach_Addr2, Teach_Addr3)
		values (#{Teach_Profile}, #{Teach_Resume}, #{Teach_Id}, 
				#{Teach_Pwd}, #{Teach_Pwd_Qs}, #{Teach_Pwd_As}, #{Teach_Gender}, 
				#{Teach_Phone1}, #{Teach_Phone2}, #{Teach_Phone3}, 
				#{Teach_Email1}, #{Teach_Email2}, 
				#{Teach_Addr1}, #{Teach_Addr2}, #{Teach_Addr3}) -->
	</insert>
	
	<!-- 아이디 중복확인 -->
	<select id="idChk" resultType="int">
		select count(*) from teach_info
		where Teach_Id = #{Teach_Id}
	</select>
	
	<!-- 회원정보 수정 -->
	<update id="info_madofy">
		update teach_info
		set
			Teach_Pwd = #{Teach_Pwd},
			Teach_Pwd_Qs = #{Teach_Pwd_Qs},
			Teach_Pwd_As = #{Teach_Pwd_As},
			Teach_Phone1 = #{Teach_Phone1},
			Teach_Phone2 = #{Teach_Phone2},
			Teach_Phone3 = #{Teach_Phone3},
			Teach_Email1 = #{Teach_Email1},
			Teach_Email2 = #{Teach_Email2},
			Teach_Addr1 = #{Teach_Addr1},
			Teach_Addr2 = #{Teach_Addr2},
			Teach_Addr3 = #{Teach_Addr3}
		where
			Teach_Id = #{Teach_Id}			
	</update>
	
	<!-- 로그인 -->
	<select id="login" resultType="com.king.myapp.domain.TeachVO">
		select Teach_Id, Teach_Pwd
		from teach_info
		where Teach_Id = #{Teach_Id} and Teach_Pwd = #{Teach_Pwd}
	</select>
	
  </mapper>	